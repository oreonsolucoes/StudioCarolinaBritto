<!DOCTYPE html>
<html lang="pt-BR">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel do Studio - Carolina Britto</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500&family=Cinzel+Decorative:wght@700&display=swap"
      rel="stylesheet">
    <link rel="stylesheet" href="css/admin.css">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  </head>

  <body>

    <div id="login-section" class="login-container" style="display:none;">
      <h1 class="titulo">Barbearia SF</h1>
      <p class="subtitulo">Painel do Barbeiro</p>

      <form id="login-form" class="login-box">
        <label for="email">E-mail</label>
        <input type="email" id="email" placeholder="admin@gmail.com" required>
        <label for="senha">Senha</label>
        <div class="senha-wrapper">
          <input type="password" id="senha" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
          <span id="toggle-senha">üëÅÔ∏è</span>
        </div>

        <button type="submit" class="btn-login">Entrar</button>
        <p id="erro-login" class="erro"></p>
      </form>
    </div>

    <div id="admin-section" class="admin-container" style="display:none;">
      <header>
        <h1>Painel Administrativo</h1>
        <div>
          <button onclick="window.location.href='gestao.html'" class="btn-edit-ordem"
            style="margin-right:10px; background:#3498db; color:white;">üìä Gest√£o</button>
          <button id="logout" class="btn-logout">Sair</button>
        </div>
      </header>

      <nav class="admin-nav">
        <button id="btn-agendamentos" class="active">Agendamentos</button>
        <button id="btn-bloqueio">Bloquear Hor√°rios</button>
        <button id="btn-agendar-manual">Agendar Cliente</button>
        <button id="btn-servicos">Servi√ßos</button>
        <button id="btn-recesso">Folga</button>
      </nav>

      <section id="sec-bloqueio" style="display:none;">
        <h2>üîí Gest√£o de Disponibilidade</h2>
        <p style="margin-bottom: 15px; opacity: 0.8;">Clique no hor√°rio para ocupar/bloquear (Almo√ßo, Folga, etc.)</p>
        <div id="grade-bloqueio" class="grade-horarios"></div>
      </section>

      <section id="sec-agendamentos">
        <h2>üìÖ Agendamentos</h2>
        <div class="admin-toolbar">
          <div class="filter-group">
            <label for="filtro-data">Data:</label>
            <input type="date" id="filtro-data">
          </div>
          <div class="filter-group">
            <input type="text" id="pesquisa-cliente" placeholder="üîç Buscar nome ou telefone...">
          </div>
          <div class="switch-container">
            <span>Ocultar hor√°rios passados</span>
            <label class="switch">
              <input type="checkbox" id="toggle-passados" checked>
              <span class="slider"></span>
            </label>
          </div>
        </div>
        <div id="lista-agendamentos" class="lista"></div>
      </section>

      <section id="sec-agendar-manual" style="display:none;">
            <div class="manual-wrapper">
              <h2>‚úçÔ∏è Agendamento Manual</h2>
              <div id="form-agendamento-manual"></div>
                  <div class="form-agendamento-manual">
                    <input type="text" id="manual-nome" placeholder="Nome do Cliente" required>
                    <input type="tel" id="manual-whatsapp" value="5511900000000" placeholder="WhatsApp (somente n√∫meros)" required>
                  
                    <div class="custom-select manual-select" id="manual-servico-select">
                      <div class="custom-select-trigger">
                        ‚úÇÔ∏è Selecione o servi√ßo
                        <span class="arrow">‚ñæ</span>
                      </div>
                      <div class="custom-options" id="manual-servico-options"></div>
                    </div>

                  
                    <div class="custom-select manual-select" id="manual-pagamento-select" data-valor="digital">
                      <div class="custom-select-trigger">
                        üí≥ Pagamento Digital
                        <span class="arrow">‚ñæ</span>
                      </div>
                      <div class="custom-options">
                        <div class="custom-option" data-value="digital">Pagamento Digital</div>
                        <div class="custom-option" data-value="dinheiro">Pagamento em Dinheiro</div>
                        <div class="custom-option" data-value="pendente">Pendente</div>
                      </div>
                  </div>

                
                  <input type="date" id="manual-data" required>
                
              </div>
            </div> 
              <div style="margin-top:20px;">
                <label style="color:#d4af37;">Selecione o Hor√°rio</label>
                <div id="manual-grid-horarios" class="grade-horarios"></div>
              </div>
              
              <button id="btn-salvar-agendamento-manual" class="btn-save" style="margin-top:20px;">
                Salvar Agendamento
              </button>

      </section>


      <section id="sec-servicos" style="display:none;">
        <h2>üíà Servi√ßos</h2>
        <form id="form-servico" class="form-servico">
          <input type="text" id="serv-nome" placeholder="Nome do servi√ßo" required>
          <input type="number" id="serv-preco" placeholder="Pre√ßo (R$)" required>
          <input type="number" id="serv-duracao" placeholder="Dura√ß√£o (min)" required>
          <input type="number" id="serv-ordem" placeholder="Ordem (Ex: 1)" required>
          <button type="submit" class="btn-save">Salvar Servi√ßo</button>
        </form>
        <div id="lista-servicos" class="lista"></div>
      </section>

      <section id="sec-recesso" style="display:none;">
        <h2 style="color:#d4af37;">üèùÔ∏è Configurar Folga/Feriado</h2>
        <div class="admin-toolbar" style="display:block;">
          <p style="margin-bottom:15px; font-size:14px; color:#ccc;">
            Defina um per√≠odo em que a barbearia estar√° fechada. O cliente ver√° um aviso e n√£o conseguir√° agendar.
          </p>
          <div style="display: flex; gap: 15px; flex-wrap: wrap; align-items: flex-end;">
            <div class="filter-group">
              <label>Data In√≠cio:</label>
              <input type="date" id="recesso-inicio">
            </div>
            <div class="filter-group">
              <label>Data Fim:</label>
              <input type="date" id="recesso-fim">
            </div>
            <button id="btn-salvar-recesso" class="btn-save" style="height:46px;">Ativar Folga/Feriado</button>
          </div>

          <div id="status-recesso-box"
            style="margin-top:25px; padding:15px; border-radius:10px; background:rgba(212,175,55,0.15); border:1px solid #d4af37; display:none;">
            <p id="texto-status-recesso" style="margin-bottom:10px; color:#fff; font-weight:bold;"></p>
            <button id="btn-remover-recesso" class="btn-delete">Remover Folga/Feriado e Abrir Agenda</button>
          </div>
        </div>
      </section>

    </div>

    <div id="custom-confirm" class="confirm-overlay" style="display:none;">
      <div class="confirm-box">
        <h3 id="confirm-title">Confirmar A√ß√£o</h3>
        <p id="confirm-msg">Deseja realizar esta opera√ß√£o?</p>
        <div class="confirm-details">
          <p><strong>Data:</strong> <span id="confirm-date">--/--/----</span></p>
          <p><strong>Servi√ßo:</strong> <span id="confirm-service">---</span></p>
        </div>
        <div class="confirm-btns">
          <button id="confirm-yes" class="btn-confirm btn-yes">Sim</button>
          <button id="confirm-no" class="btn-confirm btn-no">N√£o</button>
        </div>
      </div>
    </div>

    <div id="modal-notificacao" class="modal-notificacao" style="display:none;">
      <div class="modal-content">
        <h3>üîî Novo Agendamento!</h3>
        <div class="notificacao-corpo">
          <p><strong>Cliente:</strong> <span id="notif-cliente">---</span></p>
          <p><strong>Servi√ßo:</strong> <span id="notif-servico">---</span></p>
          <p><strong>Data:</strong> <span id="notif-data">---</span></p>
          <p><strong>Hor√°rio:</strong> <span id="notif-hora">---</span></p>
        </div>
        <button class="btn-login" onclick="this.closest('.modal-notificacao').style.display='none'">Confirmar
          Leitura</button>
      </div>
    </div>

    <script type="module" src="js/auth.js"></script>
    <script type="module" src="js/admin.js"></script>
  </body>
</html>

